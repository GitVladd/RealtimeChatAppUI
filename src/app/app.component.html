<div class="app-container">
  <header>
    <h1>Chat App</h1>
    <button *ngIf="isLoggedIn" class="logout-btn" (click)="logout()">Logout</button>
  </header>
  
  <div class="content">
    <div *ngIf="!isLoggedIn" class="login-form">
      <h2>Welcome!</h2>
      <input
        type="text"
        [(ngModel)]="userName"
        placeholder="Enter your nickname"
        (keyup.enter)="login()"
      />
      <button (click)="login()" [disabled]="!userName.trim()">Join Chat</button>
      <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    </div>

    <app-chat 
      *ngIf="isLoggedIn"
      [userName]="userName"
      (connectionError)="handleConnectionError($event)">
    </app-chat>
  </div>
</div>